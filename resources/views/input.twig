{{ asset_add("styles.css", "anomaly.field_type.tags::scss/select2/core.scss") }}
{{ asset_add("scripts.js", "anomaly.field_type.tags::js/select2.min.js") }}
{{ asset_add("scripts.js", "anomaly.field_type.tags::js/input.js") }}

<select multiple
        class="form-control"
        name="{{ field_type.input_name }}[]"
        data-tags="{{ field_type.config.free_input }}"
        data-placeholder="{{ trans(field_type.placeholder) }}"
        data-maximum-selection-length="{{ field_type.config.max }}"
        {{ html_attributes(field_type.attributes) }}
        {{ field_type.disabled ? 'disabled' }}
        {{ field_type.readonly ? 'readonly' }}>

    {% for value, option in field_type.options %}
        {% if option is iterable %}
            <optgroup label="{{ value }}">
                {% for value, option in option %}
                    <option value="{{ value }}" {{ value in field_type.value ? 'selected' }}>{{ trans(option) }}</option>
                {% endfor %}
            </optgroup>
        {% else %}
            <option value="{{ value }}" {{ value in field_type.value ? 'selected' }}>{{ trans(option) }}</option>
        {% endif %}
    {% endfor %}

</select>

<small class="text-muted">
    {{ trans('anomaly.field_type.tags::input.help') }}
</small>
